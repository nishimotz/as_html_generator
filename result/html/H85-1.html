<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="ja" lang="ja" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="keywords" content="ウェブ,アクセシビリティ,基盤,委員会,WAIC,web,accessibility,infrastructure,committee,アクセシビリティ,サポーテッド,AS,情報" />
    <meta name="description" content="アクセシビリティ・サポーテッド（AS）情報に関する解説文書" />
    <link rel="stylesheet" type="text/css" href="http://waic.jp/cmn/css/docs.css" />
    <title>アクセシビリティ・サポーテッド（AS）情報：H85-1</title>
    <style type="text/css">table{empty-cells: show;}tr.warn{background: #ffd;}tr.ng{background: #fdd;}</style>
  </head>
  <body>
    <div id="logo">
      <a href="http://waic.jp/">
        <img src="http://waic.jp/cmn/img/header/logo.png" alt="ウェブアクセシビリティ基盤委員会 / WAIC: Web Accessibility Infrastructure Committee" width="334" height="77" />
      </a>
    </div>
    <h1>アクセシビリティ・サポーテッド（AS）情報：H85-1</h1>
    <ul>
      <li>公開日：2012年5月15日</li>
      <li>作成者：ウェブアクセシビリティ基盤委員会（WAIC）実装ワーキンググループ（WG2）</li>
    </ul>
    <h2>H85-1: optgroup要素を用いて、select要素内のoption要素をグループ化する</h2>
    <h3>関連する達成基準の実装方法一覧</h3>
    <p>
      <a href="7.1.3.1.html">7.1.3.1情報及び関係性に関する達成基準 (等級A)</a>
    </p>
    <h3>テストファイル</h3>
    <p>
      <a href="&#xA;http://waic.jp/docs/jis2010-as-tests/201205/A/HTMLandXHTML/H85-1.html">H85-1のテストファイル</a>
    </p>
    <div class="warn">
      <h3>見解</h3>
      <p>要注意</p>
    </div>
    <h3>対象</h3>
    <p>optgroup要素のlabel属性（select要素のセレクトメニュー）</p>
    <h3>注意点</h3>
    <p>select要素を用いる際には、あらかじめ選択肢の数をできるだけ絞り込むことが重要である。<br />また、optgroup要素のラベルがなくても、選択肢（option要素）の文言だけで正確に理解できるかどうかに注意する必要がある（optgroup要素のラベルと組み合わせなければ理解・区別できない選択肢の文言は避けるべきである）。</p>
    <h3>代替もしくは推奨する方法</h3>
    <p>例えば選択肢の数が100を超えるような場合には、select要素を分けるなどして、利用者が段階的に選んでいけるような別の方法を用いたほうがよいことがある。<br />あわせて、あらかじめ選択肢の数をできるだけ絞り込むことが望ましい。</p>
    <h3>備考</h3>
    <p>optgroup要素を用いることによって、見た目には選択肢のグループ分けが明確になるが、スクリーンリーダーによるサポートが不十分である。しかし、使用することによる悪影響はなく、スクリーンリーダーの今後の機能向上に期待する。</p>
    <h3>テスト結果の詳細</h3>
    <table>
      <thead>
        <tr>
          <th scope="col">ユーザエージェント</th>
          <th scope="col">検証結果</th>
          <th scope="col">操作手順</th>
          <th scope="col">備考</th>
        </tr>
      </thead>
      <tbody>
        <tr class="ok">
          <td>Internet Explorer 6.0</td>
          <td>○</td>
          <td>マウスでクリックすれば問題なく表示されるが、キーボード操作ではヘルプに掲載されていない操作（alt＋↓or↑）で表示</td>
          <td></td>
        </tr>
        <tr class="ok">
          <td>Internet Explorer 7.0</td>
          <td>○</td>
          <td>マウスでセレクトメニューを選んだとき、グルーピングされた状態（例えば「フルーツ」が「リンゴ」、「バナナ」、「桃」をグルーピングしたラベルであること）を確認<br />しかし、キーボード↓↑で操作するとグルーピングのラベル（「フルーツ」）を見ることができない。</td>
          <td>Alt + ↓or↑で見ることはできるが、この操作はキー操作集にない</td>
        </tr>
        <tr class="ok">
          <td>Internet Explorer 8.0</td>
          <td>○</td>
          <td>セレクトメニュー内で「フルーツ」が太字になって、各選択肢はインデント表示されているため、「フルーツ」が「リンゴ」、「バナナ」、「桃」、「みかん」をグルーピングしたラベルであることが分かる。野菜、焼菓子も同様。</td>
          <td></td>
        </tr>
        <tr class="ok">
          <td>Internet Explorer 9</td>
          <td>○</td>
          <td>1:マウスでセレクトメニューを選んだとき、「フルーツ」（太字）が「リンゴ」、「バナナ」、「桃」、「野菜」（太字）が「にんじん」「キュウリ」「ピーマン」、「焼菓子」（太字）を「アップルパイ」「チョコレートケーキ」でグルーピングしたラベルであることが表示されているか確認</td>
          <td>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</td>
        </tr>
        <tr class="ok">
          <td>Firefox 3.5</td>
          <td>○</td>
          <td>マウスでセレクトメニューを選んだとき、グルーピングされた状態（例えば「フルーツ」が「リンゴ」、「バナナ」、「桃」をグルーピングしたラベルであること）を確認<br />しかし、キーボード↓↑で操作するとグルーピングのラベル（「フルーツ」）を見ることができない。</td>
          <td>Alt + ↓or↑で見ることはできるが、この操作はキー操作一覧表にない</td>
        </tr>
        <tr class="ok">
          <td>Firefox 4.0</td>
          <td>○</td>
          <td>1:マウスでセレクトメニューを選んだとき、グルーピングされた状態（例えば「フルーツ」が「リンゴ」、「バナナ」、「桃」をグルーピングしたラベルであること）を確認</td>
          <td>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</td>
        </tr>
        <tr class="ok">
          <td>Firefox 9.0</td>
          <td>○</td>
          <td>マウスでセレクトメニューを選んだとき、「フルーツ」（太字）が「リンゴ」、「バナナ」、「桃」、「野菜」（太字）が「にんじん」「キュウリ」「ピーマン」、「焼菓子」（太字）を「アップルパイ」「チョコレートケーキ」でグルーピングしたラベルであることが表示されているか確認</td>
          <td>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</td>
        </tr>
        <tr class="ok">
          <td>Safari 3.2</td>
          <td>○</td>
          <td>セレクトメニュー内の選択肢がグルーピングされているのを確認。</td>
          <td>○：キーボード操作でフォーカスがあたって矢印キーを動かすとジャンプメニューが表示され、見出しとともにグルーピングされていることが確認できる。</td>
        </tr>
        <tr class="ok">
          <td>Safari 5.0.3</td>
          <td>○</td>
          <td></td>
          <td></td>
        </tr>
        <tr class="ng">
          <td>JAWS for Windows 9.0</td>
          <td>×</td>
          <td>■操作手順<br />セレクトメニューにフォーカスを当ててEnterを押すと項目が選択できるが「リンゴ」「バナナ」「桃」とひとつづつしか読み上げない。また「にんじん」のときには何も読み上げなくなる（本来グループの「野菜」の項目になっていると推測される）（フォームモードオンで確認）<br />■音声読み上げ<br />「リンゴ」<br />「バナナ」<br />「桃」<br />・・・・</td>
          <td>ひとつづつしか読み上げない</td>
        </tr>
        <tr class="ng">
          <td>ホームページ・リーダー 3.04</td>
          <td>×</td>
          <td>■操作手順<br />セレクトメニュー内でEnterを押し→で先に進むと最初「フルーツ」「リンゴ」は一緒に読み上げられるが、次の「バナナ」「桃」「みかん」ではフルーツは読み上げられない。「野菜」「焼菓子」についても同様。<br />■音声読み上げ<br />「 (フォーム1 の先頭。)　好きな食べ物は何ですか？　(選択メニューの先頭: 9 項目。) [縮小。] リンゴ [選択中。]　(選択メニューの終わり。)　 (フォーム1 の終わり。)」</td>
          <td>Homepage Readerでは対応していない模様</td>
        </tr>
        <tr class="ng">
          <td>PC-Talker XP 3.06</td>
          <td>×</td>
          <td>■操作手順<br />セレクトメニュー内でグルーピングしたラベルがわかるようには読み上げない。<br />■音声読み上げ<br />「好きな食べ物は何ですか？ のコンボボックス　選択りんご」</td>
          <td>セレクトメニュー内でグルーピングされている「フルーツ」などは読み上げられなかった。</td>
        </tr>
        <tr class="ng">
          <td>PC-Talker XP 3.06 + NetReader 1.18</td>
          <td>×</td>
          <td>■操作手順<br />セレクトメニュー内の選択肢が、optgroup要素のlabel属性値でグルーピングされていることが分かるように読み上げなかった。（例：「フルーツ」が、「リンゴ」、「バナナ」、「桃」、「みかん」をグルーピングしたラベルであることが分かるように読み上げなかった）<br />■音声読み上げ<br />「好きな食べ物は何ですか　クエスチョン　選択　リンゴ　スペースで選択」</td>
          <td></td>
        </tr>
        <tr class="ng">
          <td>FocusTalk V3</td>
          <td>×</td>
          <td>■操作手順<br />１．Tabキーでコンボボックスにフォーカスを移動すると「コンボボックス　りんご、50分の18」と読み上げる。<br />２．Enterキーを押すと、リストボックスウィンドウが開かれ、「リストボックスウィンドウのメッセージ　好きな食べ物は何ですか？　OK、エスケープはキャンセル」と読み上げる。<br />３．下矢印キーを押すと、「リスト項目　リンゴ　バナナ　桃　みかん・・・」と読み上げる。<br />■音声読み上げ<br />「リスト項目　リンゴ　バナナ　桃　みかん・・・」</td>
          <td>リストボックスを開くと、optgroupの属性値：フルーツ、野菜、焼菓子は表示されない。</td>
        </tr>
        <tr class="ok">
          <td>NVDA 2010.1j</td>
          <td>○</td>
          <td>■操作手順<br />コンボボックスに入り上下の矢印キーを使って項目間を移動すると、グループをまたぐたびに「フルーツ、野菜、小菓子」と読み上げられ、続いて項目名とグループ内での位置が読み上げられた。<br />■音声読み上げ<br />「好きな食べ物はなんですか　コンボボックスクローズサブメニュー　リンゴ」<br />「好きな食べ物は何ですか　リンゴクローズサブメニュー1の4レベル2　バナナ2の4レベル2　、桃3の4レベル2　ミカン4の4レベル2<br />野菜見出し2の3　にんじん1の3レベル2　キュウリ２の3レベル2　ピーマン3の3レベル2<br />小菓子見出し33の3　アップルパイ1の2　チョコレートケーキ2の2」</td>
          <td></td>
        </tr>
        <tr class="ng">
          <td>NVDA 2011.1</td>
          <td>×</td>
          <td>■操作手順<br />コンボボックス内で上下の矢印キーを使って項目間を移動しても、リンゴ、バナナ、モモ、ミカン、ニンジンなどの個別の項目名は読み上げられるものの、フルーツや野菜などのグループ名は読み上げられなかった。<br />■音声読み上げ<br />「好きな食べ物はなんですか　コンボボックスクローズサブメニュー　リンゴ」<br />「好きな食べ物は何ですか　リンゴクローズサブメニュー1の4レベル2　バナナ2の4レベル2　、桃3の4レベル2　ミカン4の4レベル2<br />にんじん1の3レベル2　キュウリ２の3レベル2　ピーマン3の3レベル2<br />アップルパイ1の2　チョコレートケーキ2の2」</td>
          <td></td>
        </tr>
        <tr class="ok">
          <td>Firefox18.0.1</td>
          <td>○</td>
          <td>マウスでセレクトメニューを選んだとき、「フルーツ」（太字）が「リンゴ」、「バナナ」、「桃」、「野菜」（太字）が「にんじん」「キュウリ」「ピーマン」、「焼菓子」（太字）を「アップルパイ」「チョコレートケーキ」でグルーピングしたラベルであることが表示されているか確認</td>
          <td>Alt+↓でセレクトメニューのリストを展開しグルーピングを確認することが可能</td>
        </tr>
        <tr class="ok">
          <td>Google Chrome 25</td>
          <td>○</td>
          <td>【1】セレクトメニュー内の選択肢が、optgroup要素のlabel属性値でグルーピングされた状態で表示されるか（例：「フルーツ」が「リンゴ」、「バナナ」、「桃」、「みかん」をグルーピングしたラベルであることが分かるように、セレクトメニュー内で「フルーツ」を太字にして、各選択肢をインデント表示する）を確認する。</td>
          <td>【1】○<br />セレクトメニュー内の選択肢が、次のようにグルーピングされた状態で表示されることを確認した。<br />“フルーツ”（太字）の下に“リンゴ”“バナナ”“桃”“みかん”、<br />“野菜”（太字）の下に“にんじん”“キュウリ”“ピーマン”、<br />“焼菓子”（太字）の下に“アップルパイ”“チョコレートケーキ”</td>
        </tr>
        <tr class="ok">
          <td>Safari 6.0.5</td>
          <td>○</td>
          <td></td>
          <td>「フルーツ」「野菜」「焼菓子」は太字ではなくグレーの文字で表示され、それぞれにグルーピングされた細目はインデントして表示される</td>
        </tr>
        <tr class="ng">
          <td>NVDA 2012.3</td>
          <td>×</td>
          <td>■操作手順<br />コンボボックス内で上下の矢印キーを使って項目間を移動しても、リンゴ、バナナ、モモ、ミカン、ニンジンなどの個別の項目名は読み上げられるものの、フルーツや野菜などのグループ名は読み上げられなかった。<br />■音声読み上げ<br />「好きな食べ物はなんですか　コンボボックスクローズサブメニュー　リンゴ」<br />「好きな食べ物は何ですか　リンゴクローズサブメニュー1の4レベル2　バナナ2の4レベル2　、桃3の4レベル2　ミカン4の4レベル2<br />にんじん1の3レベル2　キュウリ２の3レベル2　ピーマン3の3レベル2<br />アップルパイ1の2　チョコレートケーキ2の2」</td>
          <td></td>
        </tr>
        <tr class="ng">
          <td>PC-Talker 7 2.12</td>
          <td>×</td>
          <td>■操作手順<br />セレクトメニューに移動後、上下矢印キーで選択肢を変更。その後、[実行]ボタンに移動してEnterキーを押下。<br />■音声読み上げ<br />Ctrl＋下矢印キー、またはTabキー<br />「好きな食べ物は何ですか？ 　のコンボボックス　選択　リンゴ」<br />下矢印キー<br />「バナナ」<br />下矢印キー<br />「桃」<br />下矢印キー<br />「みかん」<br />下矢印キー<br />「にんじん」</td>
          <td>optgroup要素を完全に無視している</td>
        </tr>
        <tr class="ng">
          <td>VoiceOver</td>
          <td>×</td>
          <td>■操作手順<br />1.セレクトメニューの読み上げ開始時に、optgroup要素がいくつあるかを読み上げなかった。<br />2.optgroup要素のラベルを読み上げる際、optgroup要素がいくつあって、そのoptgroup要素が全体の中で何番目のoptgroup要素なのかが分かるように読み上げない。<br />3.optgroup要素の切り替わる位置が分かるように読み上げない。<br />4.各選択肢を読み上げる際、同じoptgroup要素内にoption要素がいくつあって、そのoption要素が何番目のoption要素なのかが分かるように読み上げない。<br />5.キーボード操作でoptgroup要素間をジャンプできない。<br />■音声読み上げ<br />「好きな リンゴ ピッカー項目 調整可能 値を調整するには1本指で上または下にスワイプします」<br />「バナナ 桃 ミカン<br />野菜 にんじん キュウリ ピーマン<br />焼菓子 アップルパイ チョコレートケーキ」</td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </body>
</html>